<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Sign Up</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="bg-auth">
<header>
  <h1>Sign Up</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="clubs.html">Clubs</a>
    <a href="join.html">Join Club</a>
    <a href="signup.html">Sign Up</a>
    <a href="login.html">Log In</a>
  </nav>
</header>

<div class="palette-strip" aria-hidden="false">
  <div class="swatch" title="Petal Frost" style="background:#edd2e0"></div>
  <div class="swatch" title="Cotton Rose" style="background:#edbbb4"></div>
  <div class="swatch" title="Pink Orchid" style="background:#dbabbe"></div>
  <div class="swatch" title="Lilac Ash" style="background:#baa1a7"></div>
  <div class="swatch" title="Grey" style="background:#797b84"></div>
</div>
<main>
<section class="card center" style="max-width:560px;margin:28px auto;">
  <h2>Sign Up</h2>
  <form id="signupForm" class="form-card">
    <label for="fullname">Full name</label>
    <input id="fullname" type="text" required>

    <label for="email">Email</label>
    <input id="email" type="email" required>

    <label for="password">Password</label>
    <input id="password" type="password" minlength="6" required>

    <button type="submit">Create Account</button>
    <p id="signupMessage"></p>
  </form>
</section>
</main>
<script>
(function(){
  function getUsers(){ return JSON.parse(localStorage.getItem('users')) || []; }
  function saveUsers(u){ localStorage.setItem('users', JSON.stringify(u)); }

  // Toast helper
  function showToast(text, duration = 1400){
    let t = document.createElement('div');
    t.className = 'toast';
    t.textContent = text;
    document.body.appendChild(t);
    // force reflow then show
    requestAnimationFrame(()=> t.classList.add('show'));
    setTimeout(()=>{
      t.classList.remove('show');
      setTimeout(()=> t.remove(), 300);
    }, duration);
  }

  const form = document.getElementById('signupForm');
  const msg = document.getElementById('signupMessage');

  form.addEventListener('submit', function(e){
    e.preventDefault();
    const name = document.getElementById('fullname').value.trim();
    const email = document.getElementById('email').value.trim().toLowerCase();
    const password = document.getElementById('password').value;

    if(!name || !email || !password){ msg.textContent = 'Fill all fields'; msg.style.color='tomato'; return; }

    const users = getUsers();
    if(users.find(u=>u.email === email)){ msg.textContent = 'Email already registered'; msg.style.color='tomato'; return; }

    users.push({name, email, password});
    saveUsers(users);
    // show toast and redirect to home
    showToast('Account created â€” redirecting to home');
    form.reset();
    setTimeout(()=> location.href = 'index.html', 1400);
  });
})();
</script>
<style>
.toast{
  position:fixed;left:50%;bottom:26px;transform:translateX(-50%) translateY(10px);background:var(--purple-4);color:#fff;padding:12px 16px;border-radius:10px;box-shadow:0 10px 30px rgba(0,0,0,0.12);opacity:0;transition:transform .22s ease,opacity .22s ease;z-index:9999;font-weight:700}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}
</style>
</body>
</html>